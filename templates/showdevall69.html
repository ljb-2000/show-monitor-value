<!doctype html>
<html>
  <head>
    <title>This is test page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="http://libs.baidu.com/bootstrap/2.3.2/css/bootstrap.min.css" media="screen">
    <style type="text/css">
	body{
	      background-color: #CCC;
	      background: url('static/bg.jpg');
	      padding-top: 6px;
              padding-bottom: 40px;
  	}
       .sidebar-nav {
        padding: 9px 0;
      }
       .hero-unit {
    	padding: 10px;
    	margin-bottom: 30px;
      }
       .row-fluid .span6 {
	width: 55%;
     }
       .row-fluid .span2 {
        width: 8%;
        height: 10%;
     }
       .row-fluid .span4 {
	width: 30%;
     }
       .row-fluid [class*="span"] {
	margin-left: 2.8%;
     }
        .dropdown-menu {
        min-width: 125px;
     }
	h1, h2, h3, h4, h5, h6{
	  margin: 0px 0;
	  color: darkslategray;
	}
       @media (max-width: 980px) {
        /* Enable use of floated navbar text */
        .navbar-text.pull-right {
          float: none;
          padding-left: 5px;
          padding-right: 5px;
        }
      }
    </style>


  </head>
<body>
<div class="container-fluid">
  <div class="row-fluid">
    <div class="span2">
      <div class="well sidebar-nav">
        <ul class="nav nav-pills nav-stacked">
          <li><a href="{{url_for('all')}}">ALL</a></li>
	  <li class="dropdown" id="accountmenu" style="width:100px;">
                <a class="dropdown-toggle" data-toggle="dropdown" href="{{url_for('cc14')}}">cc00014<b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="{{url_for('showdev69')}}">ALL</a></li>
                  <li class="divider"></li>
                  {% for ke,v in devs69.items() %}
                  <li><a href="{{url_for('showip69',name69=ke)}}">{{ke}}</a></li>
                  {% endfor %}
                </ul>
          </li>
          <li><a href="{{url_for('cc46')}}">cc00046</a></li>
          <li><a href="{{url_for('cc69')}}">cc00069</a></li>
        </ul>
      </div><!--/.well -->
    </div><!--/span-->
    <div class="span6">
	  <div class="hero-unit">
	    <p><button class="btn btn-mini btn-primary" type="button" onclick="setReload()">刷新页面</button></p>
	    <h4 style="text-align:center">cc00069</h4>
            <div id="carousel-example-generic" class="carousel slide" >
      <!-- Indicators -->
      	      <ol class="carousel-indicators">

                <li data-target="#carousel-example-generic" data-slide-to="{{lenss69}}" class="active"></li>
                {% for i in lens69 %}
                <li data-target="#carousel-example-generic" data-slide-to="{{i}}"></li>
	        {% endfor %}
              </ol>
    
      <!-- Wrapper for slides -->
              <div class="carousel-inner" style="text-align:center">
                <div class="item active">
		  <h5 style="text-align:left">{{devss}}</h5>
                  <img src="http://{{devsv69}}/{{sn69[devss]}}/daily" ></img>
	        </div>
	        {% for k,v in devs69.items() %} 
                <div class="item">
                  <h5 style="text-align:left">{{k}}</h5>
		  <img src="http://{{v}}/{{sn69[k]}}/daily" ></img>
	        </div>

                {% endfor %}	
              </div>
	     <!-- Controls -->
              <a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
              </a>
             <a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
               <span class="glyphicon glyphicon-chevron-right"></span>
             </a>
            </div>
          </div>
        </div>
    <div class="span4">
      <div class="hero-unit">
	<div id="carousel-generic" class="carousel slide" >
      <!-- Indicators -->
              <ol class="carousel-indicators">

                <li data-target="#carousel-generic" data-slide-to="{{lenss69}}" class="active"></li>
                {% for i in lens69 %}
                <li data-target="#carousel-generic" data-slide-to="{{i}}"></li>
                {% endfor %}
              </ol>

      <!-- Wrapper for slides -->
              <div class="carousel-inner" style="text-align:left">
                <div class="item active">
                  <h4>{{devss}}</h4>
                  <img src="http://{{devsv69}}/{{sn69[devss69]}}/mini/daily" ></img>
                </div>
                {% for k,v in devs69.items() %}
                <div class="item">
                  <h4>{{k}}</h4>
                  <img src="http://{{v}}/{{sn69[k]}}/mini/daily" ></img>
                </div>

                {% endfor %}
              </div>
             <!-- Controls -->
              <a class="left carousel-control" href="#carousel-generic" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
              </a>
             <a class="right carousel-control" href="#carousel-generic" data-slide="next">
               <span class="glyphicon glyphicon-chevron-right"></span>
             </a>
            </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
        <table class="table table-bordered" >
          <thead>
            <tr >
                <th style="background-color:#A7C942" >Total</th>
		<th style="background-color:#A7C942">Open</th>
		<th style="background-color:#A7C942">Suspend</th>
		<th style="background-color:#A7C942">Close</th>
	    </tr>
          </thead>
	  <tbody>
          <tr class="success">
            <td >{{dn69}}</td>
            <td >{{opn69}} </td>
            <td >{{spn69}}</td>
            <td >{{csn69}}</td>
          </tr>
          </tbody>
        </table>
        </div>
      </div>
      <div class="row-fluid">
        <div class="span12">
	  <div class="hero-unit">
          <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#suspend" data-toggle="tab">Suspend</a></li>
            <li><a href="#close" data-toggle="tab">Close</a></li>
          </ul>
	    <div id='content' class="tab-content">
              <div class="tab-pane fade in active" id="suspend">
                <ul class="unstyled">
		  {% for i in spd69 %}
                  <li>{{i}}</li>
		  {% endfor %}
                </ul>
              </div>
              <div class="tab-pane fade" id="close">
	        <ul class="unstyled">
		  {% for i in csd69 %}
		  <li>{{i}}</li>
		  {% endfor %}
		</ul>
	      </div>
	    </div>
          </div>
        </div>
      </div>
    </div>

</div>
<script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
<script src="http://libs.baidu.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="/static/jquery.tablesorter.min.js"></script>
<script src="/static/jquery.tablecloth.js"></script>
<script type="text/javascript">
(function($){
    var time1, time2, thd, thd2;
    var interval = 0;
    $(function(){
        time1 = (new Date()).getTime();
        console.log( 'DOM 加载完成, 开始渲染页面, ', time1 );
        startAction();
    });
    $(window).load(function(){
        time2 = (new Date()).getTime();
        console.log( '页面渲染耗时: ', time2 -time1 );
        stopAction();

    });
    function startAction(){
        // 显示动画 div
        var loadingHtml = '<div id="lcontainer" style="position: fixed; width:2000px;height:2000px; top:0;left:0;z-index: 9999;background:#fff">'
            + '<div id="loading" style="margin-top:'
            + ( ($(window).height())/2 - 60 ) + 'px;margin-left:' 
            + ( ($(window).width())/2 - 120 )
            + 'px;width:200px">'
            + '<div class="progress progress-info progress-striped active">'
            + '<div class="bar" style="width: 0"></div>'
            + '</div></div></div>';
        $('body').before( loadingHtml );
        precessBar();

        // 防止一些图片( 比如丢失 )为加载完成导致 body 不可见
        thd = setTimeout( stopAction, 3000);
    };
    function stopAction(){
        // 隐藏动画 div
        $('#lcontainer').remove();
        clearTimeout( thd );
        clearInterval(interval);
    };
    function precessBar(){

        if($('#loading .precess').length == 0){
           $('#loading').html( '<div class="progress progress-info progress-striped active"><div class="bar" style="width: 0"></div></div>' );
        }

        if (interval) {
            clearInterval(interval);
        }
        $("#loading .precess .bar").css('width', 0);
        $("#loading .precess .bar").show();
        var percent = 0;
        interval = setInterval(function(){
            percent += 10;
            if (percent == 100) {
                percent = 99;
            }
            if (percent < 100) {
                $("#loading .bar").css({'width': percent + '%'});
            }
        }, 300);
    }
 })(jQuery);

  	    $('.carousel').carousel({
    	    interval: 5000
	    })
         $("table").tablecloth({
	    theme: "paper",//default,stats,dark,paper四种样式
         });
	function setReload(){
    		window.location.reload();
	}

</script>
</body>
</html>
